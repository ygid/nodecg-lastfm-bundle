<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<style>
		.monospace {
			font-family: monospace;
		}
	</style>
</head>
<body>
	<div class="ajax lastfm_main" style="width: 610px; height: 101px; margin-left: 0px; color: #fff;">
        <div class="lastfm_main_bg"></div>
        <div style='font-size: 22px; position:absolute'>
            <div class="" style='float:left; padding-right: 20px'>
                <a class='lastfm_url' href=''><img class="lastfm_img" src="{{ asset('img/lastfm_no_image.png') }}" style="height: 100px; width: 100px"/></a>
            </div>
            <div class="" style="width: 470px; height: 99px; text-overflow: ellipsis;  white-space: nowrap; ">
                <div class="lastfm_artist"   style="text-overflow: ellipsis;  white-space: nowrap;">-</div>
                <div class="lastfm_album"  style="text-overflow: ellipsis;  white-space: nowrap;" >-</div>
                <div class="lastfm_song"  style="text-overflow: ellipsis;  white-space: nowrap;">- </div>
            </div>
        </div>
    </div>

	<form id="update-overlay">
		<label for="username-text">Username</label><br/>
		<input id="username-text">
		<br/>
		<label for="apikey-text">API Key</label><br/>
		<input id="apikey-text">
		<button type="submit">Update</button>
	</form>
	<script>
		const usernameReplicant = nodecg.Replicant('USERNAME');
		const apiKeyReplicant   = nodecg.Replicant('API_KEY');

		const usernameBox = document.getElementById('username-text')
		const apiKeyBox = document.getElementById('apikey-text')

		usernameReplicant.on('change', value=> {
			document.getElementById('username-text').value = value
		})
		apiKeyReplicant.on('change', value=> {
			document.getElementById('apikey-text').value = value
		})

		textForm.addEventListener('submit', e => {
			e.preventDefault();
			usernameReplicant.value = usernameBox.value
			apiKeyReplicant.value   = apiKeyBox.value
		})
		
		nodecg.log.debug(nodecg)
		
	</script>
</body>
</html>
